1
00:00:00,334 --> 00:00:07,341
♪ ♪

2
00:00:09,943 --> 00:00:11,111
Ahmed Badr: 大家好 欢迎

3
00:00:11,144 --> 00:00:14,348
我是 Ahmed 来自 Apple 的

4
00:00:14,381 --> 00:00:15,415
显示和色彩技术团队

5
00:00:15,449 --> 00:00:19,620
今天 我与大家分享下
我们在 Advanced Video Quality Tool

6
00:00:19,653 --> 00:00:23,824
或简称 AVQT 中
推出的新功能和增强功能

7
00:00:23,857 --> 00:00:26,693
首先快速回顾下

8
00:00:26,727 --> 00:00:28,762
什么是 AVQT

9
00:00:28,795 --> 00:00:34,268
AVQT 是一个可执行的指令行
于 WWDC 2021 首次推出

10
00:00:34,301 --> 00:00:38,105
它是基于全参考帧的视频质量测量
可评估潜在压缩

11
00:00:38,138 --> 00:00:41,208
和缩放构建的视频质量

12
00:00:41,241 --> 00:00:45,212
它试图模仿人们是如何
评估视频质量的

13
00:00:45,245 --> 00:00:51,218
AVQT 支持所有基于 AVFoundation 的
视频格式 包括 SDR 和 HDR

14
00:00:51,251 --> 00:00:56,023
包括 HDR10 HLG
和杜比视界

15
00:00:56,056 --> 00:00:59,860
AVQT 有三个独有的
关键属性

16
00:00:59,893 --> 00:01:04,531
首先 AVQT 与人们如何评估视频
达成了高度相关

17
00:01:04,565 --> 00:01:06,266
这可以应用到所有内容类型

18
00:01:06,300 --> 00:01:09,603
如动画 自然风景和运动

19
00:01:09,636 --> 00:01:13,340
第二 AVQT 有
令人惊叹的处理速度

20
00:01:13,373 --> 00:01:16,743
这得益于 AVFoundation 和 Metal
AVQT 依赖它们

21
00:01:16,777 --> 00:01:19,146
完成视频解码和处理

22
00:01:19,179 --> 00:01:23,650
第三 AVQT 是为适应
不同查看设置而设计的

23
00:01:23,684 --> 00:01:26,286
基于实际查看设置
同一个视频可以导致

24
00:01:26,320 --> 00:01:28,121
不同的观看体验

25
00:01:28,155 --> 00:01:30,657
这可在 AVQT 中通过

26
00:01:30,691 --> 00:01:34,461
如显示分辨率 显示大小 视距等
因素进行配置

27
00:01:35,329 --> 00:01:39,566
您可查看我们 2021 年的 “Evaluate videos with
Advanced Video Quality Tool” 视频

28
00:01:39,600 --> 00:01:43,637
以了解更多关于 AVQT 的信息

29
00:01:43,670 --> 00:01:47,574
在 WWDC 2021 宣布推出
AVQT 的视频中

30
00:01:47,608 --> 00:01:51,311
我们展示了它在 M1 Macs 上
可达到令人惊叹的处理速度

31
00:01:51,345 --> 00:01:56,984
从那之后 Apple 处理器
就有了更强的能力 AVQT 也更快了

32
00:01:57,017 --> 00:02:01,054
这是 M1 处理器新成员的
处理速度

33
00:02:01,088 --> 00:02:04,691
在 M1 Ultra 中
AVQT 仅用了 20 分钟

34
00:02:04,725 --> 00:02:08,862
就评估了一个 2 小时时长
HEVC 压缩 4K 电影

35
00:02:08,896 --> 00:02:11,598
这比实时要快 6 倍

36
00:02:11,632 --> 00:02:14,268
对于有类似时长的全高清电影

37
00:02:14,301 --> 00:02:17,938
AVQT 不到 11 分钟
就处理完了视频

38
00:02:17,971 --> 00:02:21,675
这比实时快了 10 倍以上

39
00:02:21,708 --> 00:02:25,279
您现在可在同样的时间内
评估更多视频

40
00:02:26,513 --> 00:02:29,650
接下来 我来为大家介绍下
今年为 AVQT 增加的

41
00:02:29,683 --> 00:02:32,986
新功能和增强功能

42
00:02:33,020 --> 00:02:36,590
您现在可以用 AVQT
将您的视频品质视觉化

43
00:02:36,623 --> 00:02:38,825
无需额外步骤

44
00:02:38,859 --> 00:02:42,329
AVQT 的最新版本
可以生成基于 HTML 的报告

45
00:02:42,362 --> 00:02:44,765
有交互图和表格

46
00:02:44,798 --> 00:02:47,968
展示您视频品质的分析结果

47
00:02:48,001 --> 00:02:52,072
这些报告通过添加新的
visualize 标记即可生成

48
00:02:53,006 --> 00:02:55,576
您可识别您视频中

49
00:02:55,609 --> 00:02:58,545
质量未达预期的部分

50
00:02:58,579 --> 00:03:01,882
您也可以与其他同事
共享 AVQT 报告

51
00:03:01,915 --> 00:03:05,152
他们无需安装 AVQT
或其它工具

52
00:03:05,185 --> 00:03:07,321
只要在 Safari 中
打开报告即可

53
00:03:09,056 --> 00:03:11,792
所以我为大家演示下
如何创建交互图

54
00:03:11,825 --> 00:03:14,061
以及如何使用其功能

55
00:03:15,996 --> 00:03:18,365
首先 我给大家看下帮助菜单

56
00:03:18,398 --> 00:03:20,501
我们新增了一个新的参数
visualize

57
00:03:20,534 --> 00:03:22,970
您可以用来创建报告

58
00:03:23,003 --> 00:03:27,608
这是 AVQT 指令 可评估
我通过压缩创建的

59
00:03:27,641 --> 00:03:32,045
一段去年 WWDC 演示视频的质量

60
00:03:32,079 --> 00:03:36,984
然后 您可添加 visualize 参数
它会创建一个报告

61
00:03:37,017 --> 00:03:39,319
完成后 您可看到
HTML 报告文件的位置

62
00:03:39,353 --> 00:03:42,756
打印到标准输出

63
00:03:42,789 --> 00:03:45,259
这个文件在 Safari 中
打开即可

64
00:03:46,126 --> 00:03:50,364
左边的表格展示了
被分析视频的信息

65
00:03:50,397 --> 00:03:53,133
右边的包括设置

66
00:03:53,166 --> 00:03:55,102
和评估视频使用的参数

67
00:03:57,905 --> 00:04:02,943
这个表格展示了随着时间的
帧级和片段级 AVQT 得分

68
00:04:05,946 --> 00:04:08,015
如果您对具体区间感兴趣

69
00:04:08,048 --> 00:04:10,784
只需放大就能获取更多信息

70
00:04:12,252 --> 00:04:15,756
在图表上悬停可为您提供
该处更多信息

71
00:04:15,789 --> 00:04:19,459
如时间 AVQT 得分以及帧索引

72
00:04:19,493 --> 00:04:21,361
或该得分所属的片段

73
00:04:23,263 --> 00:04:27,267
缩小到主视图 您可以
在表格任意位置双击

74
00:04:30,537 --> 00:04:33,540
会出现饼图展示被分析视频的

75
00:04:33,574 --> 00:04:37,010
AVQT 帧得分的分布

76
00:04:37,044 --> 00:04:39,479
它展示了五个品质类别的
百分比和帧数量

77
00:04:39,513 --> 00:04:44,184
包括 “Bad” “Poor” “Fair”

78
00:04:44,218 --> 00:04:46,286
“Good” 和 “Excellent”

79
00:04:48,155 --> 00:04:50,824
底部的表格与顶部的类似

80
00:04:50,858 --> 00:04:53,293
只是展示了 PSNR 得分

81
00:04:57,497 --> 00:05:01,034
我们希望这一功能
可以帮助您总结视频质量

82
00:05:01,068 --> 00:05:03,704
并识别可能的问题

83
00:05:03,737 --> 00:05:06,707
还有一个我非常高兴能为大家
介绍的功能

84
00:05:06,740 --> 00:05:09,376
您现在可以指定您用于评估的
参考和测试视频的

85
00:05:09,409 --> 00:05:11,945
时间窗口

86
00:05:11,979 --> 00:05:16,416
这可以聚焦于视频中
一个指定场景或多个场景

87
00:05:16,450 --> 00:05:20,754
也可以对比暂时不一致的视频

88
00:05:20,787 --> 00:05:24,992
我们添加了四个新的指令行参数
来帮助您精准指定

89
00:05:25,025 --> 00:05:28,862
想要分析的视频开始和结束部分

90
00:05:30,063 --> 00:05:34,001
我为大家展示下
如何使用时间窗口的功能

91
00:05:35,035 --> 00:05:37,971
这是我在上一个 demo 中
评估的视频

92
00:05:38,005 --> 00:05:42,075
这次 我想要评估视频的
单一场景

93
00:05:42,109 --> 00:05:44,745
我可以这样来完成

94
00:05:44,778 --> 00:05:48,749
在 Quicktime 播放器中
我开始查找该场景

95
00:05:48,782 --> 00:05:51,318
就是这个

96
00:05:51,351 --> 00:05:54,221
点击这里可以显示帧索引

97
00:05:54,254 --> 00:05:58,659
我使用方向键
获取场景中的第一帧

98
00:05:58,692 --> 00:06:00,394
是 270

99
00:06:00,427 --> 00:06:04,531
重复同样的步骤
找到场景的最后一帧

100
00:06:04,565 --> 00:06:07,267
是 486 帧

101
00:06:07,301 --> 00:06:10,971
现在 我们在 AVQT 中
评估这个场景

102
00:06:11,004 --> 00:06:13,707
指令的第一部分和之前一样

103
00:06:13,740 --> 00:06:18,011
然后使用这些四个新添加的
指令行参数

104
00:06:18,045 --> 00:06:21,415
添加从 QuickTime 播放器中
获取的开始和结束帧索引

105
00:06:23,951 --> 00:06:26,887
我现在有了这个场景的
AVQT 得分了

106
00:06:28,922 --> 00:06:31,892
运行这个指令
比处理整个视频更快

107
00:06:31,925 --> 00:06:34,494
然后只要看这个场景的得分即可

108
00:06:34,528 --> 00:06:37,831
我们相信这增加了
AVQT 的灵活性

109
00:06:37,865 --> 00:06:41,235
说到灵活性
我们也可以扩展

110
00:06:41,268 --> 00:06:44,371
这个版本
raw YUV 格式的支持

111
00:06:44,404 --> 00:06:47,508
AVQT 支持
所有 AVFoundation 视频格式

112
00:06:47,541 --> 00:06:51,578
除此之外 它也支持
raw YUV 视频

113
00:06:51,612 --> 00:06:54,214
这可启用为从未压缩的视频记分

114
00:06:54,248 --> 00:06:56,183
如原始摄像头源

115
00:06:56,216 --> 00:06:59,152
它对评估生态系外压缩
和解码的视频

116
00:06:59,186 --> 00:07:02,456
也同样有用

117
00:07:02,489 --> 00:07:06,293
今年 我们增加支持的 raw YUV
总共支持 20 种

118
00:07:06,326 --> 00:07:11,398
色度二次采样和色彩深度格式

119
00:07:11,431 --> 00:07:13,567
值得注意的是
“reference fourcc”

120
00:07:13,600 --> 00:07:16,570
和 “test fourcc” 已弃用

121
00:07:16,603 --> 00:07:19,706
我们用两种独立的标记组
来代替

122
00:07:19,740 --> 00:07:22,709
一个是色度二次采样
另一个是色彩深度

123
00:07:24,111 --> 00:07:26,880
这一功能可让您在
无需预处理的情况下

124
00:07:26,914 --> 00:07:28,982
评估更多视频

125
00:07:31,084 --> 00:07:34,755
AVQT 是于 WWDC 2021
首次推出的

126
00:07:34,788 --> 00:07:37,724
用户对该工具的兴趣日渐增长

127
00:07:37,758 --> 00:07:40,160
我们收到了数不胜数的
评论和需求

128
00:07:40,194 --> 00:07:44,097
最常见的需求是
增加支持 Linux

129
00:07:44,131 --> 00:07:48,702
今天 我们很高兴地宣布
AVQT 现已可以 Linux 中使用

130
00:07:50,571 --> 00:07:54,808
我们知道这可以让人们
评估存储在云端的内容

131
00:07:54,842 --> 00:07:59,780
或在 Linux 的服务器压缩的视频
而无需转移拷贝视频

132
00:07:59,813 --> 00:08:03,851
我们还与 macOS 一起
公布了支持多个 Linux 平台的

133
00:08:03,884 --> 00:08:07,988
Linux AVQT beta 版

134
00:08:08,021 --> 00:08:12,492
无外部依赖所以部署很简单

135
00:08:12,526 --> 00:08:15,229
基本上是即插即用

136
00:08:15,262 --> 00:08:18,198
您可参考 AVQT 程序包中的
README 文件

137
00:08:18,232 --> 00:08:21,468
以了解更多关于所支持的
Linux 平台和版本的信息

138
00:08:22,903 --> 00:08:25,806
AVQT Linux 版本的设计
与 macOS 版本

139
00:08:25,839 --> 00:08:28,208
有同样的外观和特性

140
00:08:28,242 --> 00:08:31,211
它为指令行标记使用相同的命名

141
00:08:31,245 --> 00:08:34,648
生成相同格式的输出文件

142
00:08:34,681 --> 00:08:38,118
Linux 版本支持
macOS 工具最新版本中的

143
00:08:38,151 --> 00:08:41,221
20 种 raw 格式

144
00:08:41,255 --> 00:08:44,858
查看条件参数
在 Linux beta 版中不可用

145
00:08:44,892 --> 00:08:46,793
但未来会启用

146
00:08:48,295 --> 00:08:51,331
总结来说 有几个要点

147
00:08:51,365 --> 00:08:56,570
我们 WWDC 2021 推出的
AVQT 视觉视频质量工具

148
00:08:56,603 --> 00:08:59,840
可在开发者门户中下载

149
00:08:59,873 --> 00:09:03,177
如果您还没用过这个工具
那快去试试吧

150
00:09:03,210 --> 00:09:06,613
今年 我们在 AVQT 中
新增了几个增强功能

151
00:09:06,647 --> 00:09:10,684
您现在可以用基于 HTML 的
交互报告 将 AVQT 得分视觉化

152
00:09:10,717 --> 00:09:14,688
并将报告与您的同事分享

153
00:09:14,721 --> 00:09:17,324
您也可以使用新的
“时间窗口”功能

154
00:09:17,357 --> 00:09:20,160
来查看视频中指定场景的质量

155
00:09:20,194 --> 00:09:23,864
最后 如果您的视频存储在云端

156
00:09:23,897 --> 00:09:28,702
且使用基于 Linux 的视频解码器
AVQT 现在也可在 Linux 中使用

157
00:09:28,735 --> 00:09:31,305
感谢大家的观看

