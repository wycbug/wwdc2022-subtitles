1
00:00:00,000 --> 00:00:03,770
♪ 柔和乐器演奏的嘻哈音乐 ♪

2
00:00:03,770 --> 00:00:09,776
♪

3
00:00:09,776 --> 00:00:12,279
Nadia Hussein：
欢迎来到 WWDC

4
00:00:12,279 --> 00:00:15,849
我是 Nadia 我和我的
同事 Graham 迫不及待

5
00:00:15,849 --> 00:00:18,619
想要和您分享 macOS Ventura
iOS 以及 iPadOS 16 上

6
00:00:18,619 --> 00:00:25,993
设备管理功能的相关新资讯

7
00:00:25,993 --> 00:00:27,794
在设备管理领域

8
00:00:27,794 --> 00:00:30,731
让员工蓬勃发展

9
00:00:30,731 --> 00:00:32,533
提高师生间的教学效率

10
00:00:32,533 --> 00:00:35,068
是我们共同的使命

11
00:00:35,068 --> 00:00:37,905
我们不断研发

12
00:00:37,905 --> 00:00:41,842
推动师生合作的工具和技术

13
00:00:41,842 --> 00:00:45,746
在 macOS Ventura
iOS 以及 iPadOS 16 中

14
00:00:45,746 --> 00:00:48,615
进行了许多优化升级
并新增了不少功能

15
00:00:48,615 --> 00:00:51,018
本次讲座会提及部分上述内容

16
00:00:51,018 --> 00:00:53,687
但我首先想快速地强调一下

17
00:00:53,687 --> 00:00:56,456
您可以查看其他讲座

18
00:00:56,456 --> 00:01:01,628
来获取更多企业和
教育空间的相关资讯

19
00:01:01,628 --> 00:01:04,064
在 WWDC 2021 上

20
00:01:04,064 --> 00:01:06,767
我们推出了声明式设备管理

21
00:01:06,767 --> 00:01:08,769
这一设备管理的新范式

22
00:01:08,769 --> 00:01:11,572
使设备变得更加自治和主动

23
00:01:11,572 --> 00:01:14,775
同时允许服务器
更轻量化、反应更快

24
00:01:14,775 --> 00:01:18,912
今年我们继续增加

25
00:01:18,912 --> 00:01:21,615
声明式设备管理的平台支持和功能

26
00:01:21,615 --> 00:01:23,417
我们强烈推荐您观看

27
00:01:23,417 --> 00:01:27,321
《Adopt declarative
device management》讲座

28
00:01:27,321 --> 00:01:30,891
Apple Business Essentials
是一项一站式的订阅

29
00:01:30,891 --> 00:01:34,027
它可以无缝的整合设备管理

30
00:01:34,027 --> 00:01:36,964
提供 7*24 全天候
支持和云存储

31
00:01:36,964 --> 00:01:38,732
有了 Apple Business Essentials

32
00:01:38,732 --> 00:01:42,636
小型企业能够轻松管理
每台 iPhone iPad

33
00:01:42,636 --> 00:01:45,939
Mac 还有 Apple TV
面面俱到

34
00:01:45,939 --> 00:01:49,076
查看《探索 Apple Business Essentials》讲座

35
00:01:49,076 --> 00:01:52,613
了解更多信息

36
00:01:52,613 --> 00:01:55,983
托管设备证明是一项新的安全功能

37
00:01:55,983 --> 00:01:57,484
此功能使用
Secure Enclave

38
00:01:57,484 --> 00:02:00,621
为客户端设备提供强有力的保障

39
00:02:00,621 --> 00:02:03,690
比如身份识别和软件版本

40
00:02:03,690 --> 00:02:07,060
参与讲座《Discover
Managed Device Attestation》

41
00:02:07,060 --> 00:02:09,963
了解更多信息

42
00:02:09,963 --> 00:02:12,566
在本次讲座中 我们将探讨

43
00:02:12,566 --> 00:02:16,203
Apple Configurator
的新功能

44
00:02:16,203 --> 00:02:20,140
跨平台身份识别技术

45
00:02:20,140 --> 00:02:23,977
关于 macOS Ventura iOS
和 iPadOS 16 的协议变更

46
00:02:23,977 --> 00:02:26,446
iOS and iPadOS 16

47
00:02:26,446 --> 00:02:31,451
最后是激动人心的
文档提供方式的变更

48
00:02:31,451 --> 00:02:36,290
我们先从 Apple
Configurator 讲起

49
00:02:36,290 --> 00:02:41,228
在 WWDC 2021 上 我们发布了
iPhone 版本的 Apple Configurator

50
00:02:41,228 --> 00:02:43,430
教育和企业用户

51
00:02:43,430 --> 00:02:45,766
都喜欢通过这个方案

52
00:02:45,766 --> 00:02:50,904
来进行所有 Mac 的
自动设备注册

53
00:02:50,904 --> 00:02:54,141
有了 iPhone 版本的 Apple
Configurator

54
00:02:54,141 --> 00:02:56,376
即便是常规购买渠道
以外到手的 Mac

55
00:02:56,376 --> 00:02:58,712
也能轻松添加到所属组织
只要组织在

56
00:02:58,712 --> 00:03:02,049
Apple School Manager 或
Apple Business Manager

57
00:03:02,049 --> 00:03:05,285
在 Mac 上的设置助理中

58
00:03:05,285 --> 00:03:07,487
只需拿着您的 iPhone
用 Configurator

59
00:03:07,487 --> 00:03:10,224
[铃声] 对准动态图片扫描

60
00:03:10,224 --> 00:03:12,259
Mac 将连接到网络

61
00:03:12,259 --> 00:03:16,563
并自动添加到您的组织当中

62
00:03:16,563 --> 00:03:20,400
1.0.1 版本带来了显著新支持

63
00:03:20,400 --> 00:03:22,936
只要在 Mac 上是可用的网络

64
00:03:22,936 --> 00:03:24,638
就能活用现有网络连接

65
00:03:24,638 --> 00:03:31,111
我们很高兴地宣布
在 iOS 和 iPadOS 16 里

66
00:03:31,111 --> 00:03:34,248
iPhone 版本 Apple Configurator
现在也可以添加

67
00:03:34,248 --> 00:03:38,919
iPhone 和 iPad 设备
到您的组织中去

68
00:03:38,919 --> 00:03:43,290
而且正如您预想那般 这俩种设备的添加
跟 Mac 的添加操作无异

69
00:03:43,290 --> 00:03:46,126
这也是 Mac 版本 Configurator
的强势新功能

70
00:03:46,126 --> 00:03:47,694
运行着 Configurator 的 Mac

71
00:03:47,694 --> 00:03:50,364
需要通过 USB

72
00:03:50,364 --> 00:03:53,767
连接每个设备

73
00:03:53,767 --> 00:03:56,537
您扫描 iOS 和 iPadOS
Setup Assistant 面板时

74
00:03:56,537 --> 00:03:59,406
会发现跟 macOS 有所不同

75
00:03:59,406 --> 00:04:02,342
在 iOS 和 iPadOS 上
显示的是“Wi-Fi”面板

76
00:04:02,342 --> 00:04:05,078
但在 macOS 上
会显示“国家或地区”面板

77
00:04:05,078 --> 00:04:09,449
请留意 就跟 Mac 版的
Configurator 使用一样

78
00:04:09,449 --> 00:04:12,686
在将任何设备添加到您的组织之前

79
00:04:12,686 --> 00:04:14,154
若该设备需要进行交互式激活操作

80
00:04:14,154 --> 00:04:16,290
例如 激活锁或蜂窝网络运营商激活

81
00:04:16,290 --> 00:04:19,626
都要手动处理

82
00:04:19,626 --> 00:04:22,563
运行 iOS 或
iPadOS 16 的设备

83
00:04:22,563 --> 00:04:25,832
目前可在
App Store 中下载

84
00:04:25,832 --> 00:04:29,102
iPhone 版本的 Apple
Configurator 加入组织

85
00:04:29,102 --> 00:04:32,072
我们接着介绍商业和教育版块的

86
00:04:32,072 --> 00:04:34,842
身份验证管理

87
00:04:34,842 --> 00:04:38,512
我们知道业界很注重身份验证管理

88
00:04:38,512 --> 00:04:41,481
Apple 也同样注重

89
00:04:41,481 --> 00:04:44,952
身份验证管理为用户提供连贯的体验

90
00:04:44,952 --> 00:04:47,554
同时保障用户数据安全

91
00:04:49,456 --> 00:04:54,228
我们的身份验证目标
是让用户只用登录一次

92
00:04:54,228 --> 00:04:55,429
登录了一次后

93
00:04:55,429 --> 00:04:59,299
就能在操作系统中一直使用该身份

94
00:04:59,299 --> 00:05:00,901
我们在逐步实现这个目标

95
00:05:00,901 --> 00:05:03,337
研发了很多技术来支持这目标

96
00:05:03,337 --> 00:05:06,206
其中包括 macOS Ventura

97
00:05:06,206 --> 00:05:10,744
iOS 和
iPadOS 16 中的新功能

98
00:05:10,744 --> 00:05:13,847
Apple Business Manager 现与
Google Workspace

99
00:05:13,847 --> 00:05:15,949
共同成为 Identity Provider

100
00:05:15,949 --> 00:05:17,885
进行联合身份验证

101
00:05:17,885 --> 00:05:20,220
这允许用户凭借自身工作凭证

102
00:05:20,220 --> 00:05:23,190
作为管理式
Apple ID 去对 iOS

103
00:05:23,190 --> 00:05:27,594
iPadOS 和 macOS
上的服务进行身份验证

104
00:05:27,594 --> 00:05:29,863
请别忘了打开
Directory Sync

105
00:05:29,863 --> 00:05:31,798
之前称之为 SCIM

106
00:05:31,798 --> 00:05:37,437
来实现自动创建用户帐户
为管理式 Apple ID

107
00:05:37,437 --> 00:05:40,841
有了 Managed Apple ID
现通过 Apple 登录

108
00:05:40,841 --> 00:05:42,676
可以用在工作和学校中

109
00:05:42,676 --> 00:05:44,745
只要是支持
通过 Apple 登录的

110
00:05:44,745 --> 00:05:46,580
App 就可以使用

111
00:05:46,580 --> 00:05:49,183
如果您想限制用户登录范围

112
00:05:49,183 --> 00:05:50,717
您可以选择允许在
Apple 校园教务管理

113
00:05:50,717 --> 00:05:53,153
或 Apple Business Manager
中所有 App 中使用

114
00:05:53,153 --> 00:05:56,456
或允许部分添加到范围
列表的 App 使用

115
00:05:56,456 --> 00:05:57,791
若想了解更多信息 请看

116
00:05:57,791 --> 00:06:01,528
《在工作和学校发现通过 Apple 登录》讲座

117
00:06:01,528 --> 00:06:04,498
另一值得留意的身份验证管理升级

118
00:06:04,498 --> 00:06:06,333
是 OAuth 支持

119
00:06:06,333 --> 00:06:08,569
在 iOS 和
iPadOS 15 中

120
00:06:08,569 --> 00:06:12,072
我们运用了一个简单的
准入令牌授权机制

121
00:06:12,072 --> 00:06:15,909
来允许 MDM 服务器
验证用户身份

122
00:06:15,909 --> 00:06:20,113
而在 iOS 和 iPadOS 16 中
我们将增加 OAuth 2

123
00:06:20,113 --> 00:06:22,816
作为另一种授权机制

124
00:06:22,816 --> 00:06:25,452
OAuth 给 MDM 服务器提供了

125
00:06:25,452 --> 00:06:28,222
各种已使用
OAuth 的身份提供者

126
00:06:28,222 --> 00:06:30,157
作为选择

127
00:06:30,157 --> 00:06:34,094
它还依靠其令牌刷新
机制提高了安全性

128
00:06:34,094 --> 00:06:36,630
该机制能够使用短期访问令牌

129
00:06:36,630 --> 00:06:38,832
加上无提示刷新

130
00:06:38,832 --> 00:06:42,002
这刷新方式不会主动
提醒用户输入凭证

131
00:06:42,002 --> 00:06:43,670
OAuth 可与现有的

132
00:06:43,670 --> 00:06:46,139
帐户驱动的用户注册流程共用

133
00:06:46,139 --> 00:06:49,910
但当它跟下面提到的
炫酷新功能结合使用时

134
00:06:49,910 --> 00:06:52,346
会提供更好的用户体验

135
00:06:52,346 --> 00:06:56,049
这个功能就是
Enrollment Single Sign-on

136
00:06:56,049 --> 00:06:57,751
简称 Enrollment SSO

137
00:06:57,751 --> 00:07:00,888
这是一种通过对个人设备

138
00:07:00,888 --> 00:07:02,723
来进行单次身份验证的更快捷新的方法

139
00:07:02,723 --> 00:07:05,726
能够快速完成 MDM 注册

140
00:07:05,726 --> 00:07:09,363
并快速准入
您组织的 App 和网站

141
00:07:09,363 --> 00:07:12,466
此新技术建立在一些
现有技术的基础上

142
00:07:12,466 --> 00:07:17,571
iOS 13 为组织的
App 和网站推出了

143
00:07:17,571 --> 00:07:21,508
可扩展 SSO
作为 SSO 的新配置

144
00:07:21,508 --> 00:07:23,877
而 iOS 和 iPadOS 15

145
00:07:23,877 --> 00:07:25,746
推出了帐户驱动的用户注册

146
00:07:25,746 --> 00:07:27,714
使得用户只需在设置

147
00:07:27,714 --> 00:07:30,984
中输入邮箱地址 就能注册 MDM

148
00:07:30,984 --> 00:07:33,086
为了继续优化注册

149
00:07:33,086 --> 00:07:35,689
我们将这两种技术结合在一起

150
00:07:35,689 --> 00:07:37,758
因为我们知道 BYOD 设备

151
00:07:37,758 --> 00:07:41,128
是部署的重要组成部分

152
00:07:41,128 --> 00:07:44,998
首先 用户在设置中输入邮箱地址

153
00:07:44,998 --> 00:07:47,000
然后会有消息提示
他们去 App Store

154
00:07:47,000 --> 00:07:48,669
下载 App

155
00:07:48,669 --> 00:07:50,137
这个 App 其中包含

156
00:07:50,137 --> 00:07:52,606
Enrollment Single Sign-on 扩展

157
00:07:52,606 --> 00:07:56,643
能够提供
原生 UI 来完成身份验证步骤

158
00:07:56,643 --> 00:07:58,712
因为这是一个基于 App 的模型

159
00:07:58,712 --> 00:08:02,416
您可以使用
您随意选择的身份验证技术

160
00:08:02,416 --> 00:08:05,118
作为用户 只需登录一次

161
00:08:05,118 --> 00:08:08,222
该 App 就无需再次登录并帮助

162
00:08:08,222 --> 00:08:12,326
您完成一系列注册流程

163
00:08:12,326 --> 00:08:14,328
激活 Enrollment Single Sign-on

164
00:08:14,328 --> 00:08:16,530
主要需要四个组件

165
00:08:16,530 --> 00:08:19,166
首先 App 开发者
需要更新 App

166
00:08:19,166 --> 00:08:22,769
才能使用
Enrollment SSO

167
00:08:22,769 --> 00:08:26,006
接着 MDM 厂商联合
MDM 协议客户端身份验证

168
00:08:26,006 --> 00:08:30,644
作为身份提供商

169
00:08:30,644 --> 00:08:33,614
然后管理员运用
Apple 校园教务管理

170
00:08:33,614 --> 00:08:37,217
或 Apple Business Manager
设置管理式 Apple ID

171
00:08:37,217 --> 00:08:40,954
最后 配置 MDM 服务器
返回一个 URL

172
00:08:40,954 --> 00:08:42,523
到身份验证响应标头

173
00:08:42,523 --> 00:08:46,493
中的 JSON 文档里

174
00:08:46,493 --> 00:08:48,829
既然我们讨论完这个功能的作用

175
00:08:48,829 --> 00:08:54,568
操作跟执行者
下面我们继续深入了解细节

176
00:08:54,568 --> 00:08:56,670
接收到来自服务器的初始身份验证

177
00:08:56,670 --> 00:09:00,040
质询时
会出现一个 HTTP 标头

178
00:09:00,040 --> 00:09:02,609
意味着能够使用
Enrollment SSO

179
00:09:02,609 --> 00:09:04,311
而且应该使用

180
00:09:04,311 --> 00:09:08,215
该标头的值将是客户端将用来

181
00:09:08,215 --> 00:09:11,451
下载 JSON 文档的 URL

182
00:09:11,451 --> 00:09:14,054
此 JSON 文档包含所有

183
00:09:14,054 --> 00:09:18,091
客户端继续注册所需的详细信息

184
00:09:18,091 --> 00:09:20,894
“iTunesStoreID”
键的值

185
00:09:20,894 --> 00:09:22,996
必须参考注册时会用到的

186
00:09:22,996 --> 00:09:26,466
Enrollment Single Sign-on App

187
00:09:26,466 --> 00:09:29,803
“AssociatedDomains”键与

188
00:09:29,803 --> 00:09:35,876
“ApplicationAttributes”可用的键相同
都可以在这里配置

189
00:09:35,876 --> 00:09:37,811
最后“ConfigurationProfile”

190
00:09:37,811 --> 00:09:40,280
应该是“Base64EncodedProfile”

191
00:09:40,280 --> 00:09:43,283
里面包含至少一个
可扩展 SSO 有效负载

192
00:09:43,283 --> 00:09:48,622
如果有需要 也可能
包含证书有效负载

193
00:09:48,622 --> 00:09:51,592
我们会在即将推出的
iOS 和 iPadOS 16 中

194
00:09:51,592 --> 00:09:55,329
为顾客提供此功能

195
00:09:55,329 --> 00:09:57,564
如果您有兴趣开发

196
00:09:57,564 --> 00:09:59,266
支持此功能的 App

197
00:09:59,266 --> 00:10:01,134
您需要通过 Apple
Developer Program

198
00:10:01,134 --> 00:10:05,072
申请新的Entitlement

199
00:10:05,072 --> 00:10:08,208
不过 现在您可以在测试模式下

200
00:10:08,208 --> 00:10:10,210
就能进行开发

201
00:10:10,210 --> 00:10:11,478
这是 Enrollment
Single Sign-on

202
00:10:11,478 --> 00:10:13,547
研发过程中的一个特殊的版本

203
00:10:13,547 --> 00:10:14,815
发放您测试您 App 的许可

204
00:10:14,815 --> 00:10:19,286
而且还是在
上架 App Store 之前

205
00:10:19,286 --> 00:10:20,754
要想着手使用测试模式

206
00:10:20,754 --> 00:10:22,823
请前往设置的 Developer

207
00:10:22,823 --> 00:10:26,226
启用 Enrollment
Single Sign-on 测试模式

208
00:10:26,226 --> 00:10:28,929
然后 您需要
用新的 HTTP 标头

209
00:10:28,929 --> 00:10:30,864
跟相应的 JSON 文档

210
00:10:30,864 --> 00:10:34,001
配置您的身份验证响应

211
00:10:34,001 --> 00:10:36,203
接着在 VPN 和设备管理中

212
00:10:36,203 --> 00:10:38,338
开始注册

213
00:10:38,338 --> 00:10:39,306
在此期间

214
00:10:39,306 --> 00:10:42,476
系统将提示您
安装 Single Sign-on

215
00:10:42,476 --> 00:10:45,546
您可以使用任何可行
渠道来安装此 App

216
00:10:45,546 --> 00:10:50,250
例如 Xcode 或是 TestFlight 甚至
Enterprise App Distribution

217
00:10:50,250 --> 00:10:55,556
下载后 返回设置完成注册

218
00:10:55,556 --> 00:10:58,292
测试模式需要用到不同的标头来响应

219
00:10:58,292 --> 00:11:02,729
和修改过的 JSON 文档

220
00:11:02,729 --> 00:11:06,934
屏幕上是测试模式的 JSON 文档示例

221
00:11:06,934 --> 00:11:08,969
您可以看到“iTunesStoreID”键

222
00:11:08,969 --> 00:11:11,238
已被“AppIDs”键取代

223
00:11:11,238 --> 00:11:13,540
这个键的值是个字符串数组

224
00:11:13,540 --> 00:11:16,510
包含着能注册的 App ID

225
00:11:16,510 --> 00:11:21,081
其余的都维持原样

226
00:11:21,081 --> 00:11:24,952
我们接着来探索
Single Sign-on 扩展

227
00:11:24,952 --> 00:11:27,788
2019 年 iOS 13 和
macOS Catalina 里有了

228
00:11:27,788 --> 00:11:30,557
Single Sign-On 插件

229
00:11:30,557 --> 00:11:33,994
身份提供商能够
让其用户所使用的 App

230
00:11:33,994 --> 00:11:36,730
和网站都用上 SSO 身份验证

231
00:11:36,730 --> 00:11:39,166
使用 SSO 扩展程序时

232
00:11:39,166 --> 00:11:41,502
设备解锁后

233
00:11:41,502 --> 00:11:43,637
会提示用户登录扩展程序

234
00:11:43,637 --> 00:11:46,206
这意味着要输入凭据两次

235
00:11:46,206 --> 00:11:50,210
如果一个组织同时使用
内置的 Kerberos 扩展程序

236
00:11:50,210 --> 00:11:52,379
用户大概率都要重新登录

237
00:11:52,379 --> 00:11:56,550
很多情况下 身份凭证都是一样的

238
00:11:56,550 --> 00:12:00,587
因此 在 macOS Ventura 中
我们准备推出

239
00:12:00,587 --> 00:12:04,291
Platform Single Sign-On
简称 Platform SSO

240
00:12:04,291 --> 00:12:07,728
用户只需在登录窗口登录一次

241
00:12:07,728 --> 00:12:12,599
就能自动登录各 App 和网站了

242
00:12:12,599 --> 00:12:15,102
Platform SSO
在登录中生成令牌

243
00:12:15,102 --> 00:12:17,838
令牌可用于
第三方 SSO 扩展程序

244
00:12:17,838 --> 00:12:23,310
也能与内置的
Kerberos 扩展程序并行

245
00:12:23,310 --> 00:12:26,580
首次登录
使用本地帐户密码进行身份验证

246
00:12:26,580 --> 00:12:29,850
同时也能解锁
设备里的加密 FileVault

247
00:12:29,850 --> 00:12:32,419
用户可以离线登录

248
00:12:32,419 --> 00:12:35,422
也可以连接
Captive Network 登录

249
00:12:35,422 --> 00:12:37,925
这之后 身份提供商的密码

250
00:12:37,925 --> 00:12:40,093
也能用于解锁

251
00:12:40,093 --> 00:12:43,430
此外 Platform SSO
支持使用密码

252
00:12:43,430 --> 00:12:45,299
或 Secure Enclave
支持的密钥

253
00:12:45,299 --> 00:12:47,835
向身份提供商进行身份验证

254
00:12:47,835 --> 00:12:50,270
而且无论用了何种身份验证方法

255
00:12:50,270 --> 00:12:53,373
SSO 令牌能在身份提供者那检索

256
00:12:53,373 --> 00:12:54,541
存储在钥匙串中

257
00:12:54,541 --> 00:12:57,678
能用于 SSO 扩展程序

258
00:12:57,678 --> 00:13:00,447
也能检索
Kerberos TGT

259
00:13:00,447 --> 00:13:02,015
导入凭证缓存

260
00:13:02,015 --> 00:13:05,319
还能选择与
Kerberos 扩展程序共享

261
00:13:05,319 --> 00:13:08,055
如果身份提供商密码变更了

262
00:13:08,055 --> 00:13:10,290
Platform SSO
将在解锁后

263
00:13:10,290 --> 00:13:13,694
向身份提供商验证新密码

264
00:13:13,694 --> 00:13:16,496
Platform SSO 是
一个完整集成协议

265
00:13:16,496 --> 00:13:18,999
建立在使用
OAuth 和 OpenID 之上

266
00:13:18,999 --> 00:13:22,135
且不需要打开网页进行身份验证

267
00:13:22,135 --> 00:13:26,673
Platform SSO
是 AD Binding

268
00:13:26,673 --> 00:13:28,408
和移动帐户的新型替代品

269
00:13:28,408 --> 00:13:31,411
请注意 它不会直接使用目录服务

270
00:13:31,411 --> 00:13:33,046
或在每次解锁时

271
00:13:33,046 --> 00:13:34,781
与身份提供商验证身份

272
00:13:34,781 --> 00:13:37,518
反而只在用户尝试用新密码解锁

273
00:13:37,518 --> 00:13:40,821
或检索 SSO 令牌时

274
00:13:40,821 --> 00:13:43,891
身份提供商才会被调用

275
00:13:43,891 --> 00:13:47,361
Platform SSO 也不会
基于身份提供商的响应

276
00:13:47,361 --> 00:13:50,063
而阻止登录 Mac

277
00:13:50,063 --> 00:13:52,299
若想阻止登录 运用 MDM

278
00:13:52,299 --> 00:13:57,237
或替代方案来禁用准入

279
00:13:57,237 --> 00:13:58,906
要想利用好
Platform SSO

280
00:13:58,906 --> 00:14:02,009
身份提供商需实现 SSO 协议

281
00:14:02,009 --> 00:14:04,511
更新他们的 SSO 扩展

282
00:14:04,511 --> 00:14:07,447
然后确保
可扩展 SSO 评测已更新

283
00:14:07,447 --> 00:14:11,952
以支持托管设备上的新密钥

284
00:14:11,952 --> 00:14:13,787
更多实施详情

285
00:14:13,787 --> 00:14:17,724
请查看
Apple Platform Deployment 指南

286
00:14:17,724 --> 00:14:20,394
总结一下 我们推出了

287
00:14:20,394 --> 00:14:23,897
跟 Google Workspace 的集成
Enrollment SSO

288
00:14:23,897 --> 00:14:27,034
OAuth 支持
和 Platform SSO

289
00:14:27,034 --> 00:14:30,637
以提供便捷的登录体验

290
00:14:30,637 --> 00:14:34,408
身份验证管理是一项日新月盛的技术

291
00:14:34,408 --> 00:14:39,112
我们仅仅是刚起步而已
未来将更精彩

292
00:14:39,112 --> 00:14:43,350
macOS Ventura
进行了不少优化升级

293
00:14:43,350 --> 00:14:45,419
涵盖注册 安全方面和操作系统升级

294
00:14:45,419 --> 00:14:49,723
让我们从软件的更新说起

295
00:14:49,723 --> 00:14:52,392
macOS Monterey
对“托管软件更新”

296
00:14:52,392 --> 00:14:54,394
进行了根本性的变革

297
00:14:54,394 --> 00:14:57,497
我的同事 Lucy 在
《管理您组织中的软件更新》

298
00:14:57,497 --> 00:15:00,300
讲座中细讲了这点

299
00:15:00,300 --> 00:15:05,339
我们将操作系统更新分为三个方面

300
00:15:05,339 --> 00:15:08,442
测试 部署和执行

301
00:15:08,442 --> 00:15:11,245
今年 我们更多地专注于

302
00:15:11,245 --> 00:15:15,148
升级部署和执行这两方面

303
00:15:15,148 --> 00:15:18,886
回顾历史 命令在
“电能小憩”模式下发送时

304
00:15:18,886 --> 00:15:21,088
每次操作系统更新命令后
返回的都是“NotNow”

305
00:15:21,088 --> 00:15:23,390
为了提供更加连贯和

306
00:15:23,390 --> 00:15:27,094
稳健的操作系统更新部署
即使设备处于睡眠状态

307
00:15:27,094 --> 00:15:31,598
或“电能小憩”模式
设备现将识别并响应

308
00:15:31,598 --> 00:15:34,001
“ScheduleOSUpdate”
“OSUpdateStatus”

309
00:15:34,001 --> 00:15:37,571
以及“AvailableOSUpdate”命令

310
00:15:37,571 --> 00:15:40,541
另外因为我们也理解管理员有时

311
00:15:40,541 --> 00:15:43,410
想要尽快更新操作系统

312
00:15:43,410 --> 00:15:46,480
我们引入了一个新的名为“priority”的键

313
00:15:46,480 --> 00:15:49,249
通过“ScheduleOSUpdate”命令发送

314
00:15:49,249 --> 00:15:51,852
选择“High”
或“Low”字符串值

315
00:15:51,852 --> 00:15:53,420
该值控制调度下载

316
00:15:53,420 --> 00:15:56,356
和准备已请求更新的优先级

317
00:15:56,356 --> 00:15:58,458
发送“High”优先级
命令将在系统设置中

318
00:15:58,458 --> 00:16:01,428
模仿成像用户

319
00:16:01,428 --> 00:16:03,297
自己请求更新的样子

320
00:16:03,297 --> 00:16:08,535
请留意 这个键仅支持
小型的操作系统更新

321
00:16:08,535 --> 00:16:13,140
在 macOS 12.3 里 我们运用
“OSUpdateStatus”命令

322
00:16:13,140 --> 00:16:19,346
提升了更多日志和报告的管理可见性

323
00:16:19,346 --> 00:16:22,649
“DeferralsRemaining”指的是提示

324
00:16:22,649 --> 00:16:26,286
用户更新的通知剩下多少次

325
00:16:26,286 --> 00:16:28,789
“MaxDeferrals”表示

326
00:16:28,789 --> 00:16:34,528
允许用户推迟操作系统
更新通知的总次数

327
00:16:34,528 --> 00:16:36,864
“NextScheduledInstall”
是操作系统

328
00:16:36,864 --> 00:16:40,601
将尝试下次安装更新的日期

329
00:16:40,601 --> 00:16:44,538
最后是“PastNotifications”

330
00:16:44,538 --> 00:16:49,042
代表通知推送给用户
时的确切时间和日期

331
00:16:49,042 --> 00:16:52,112
所有这些 OSUpdateStatus 命令的更新

332
00:16:52,112 --> 00:16:53,647
对管理员进一步明确

333
00:16:53,647 --> 00:16:58,919
其用户的合规性都很有帮助

334
00:16:58,919 --> 00:17:02,422
macOS Ventura
iOS 和 iPadOS 16

335
00:17:02,422 --> 00:17:03,924
正在推出一种新机制

336
00:17:03,924 --> 00:17:07,895
能够更快地向用户发送
重要的安全修复程序

337
00:17:07,895 --> 00:17:10,030
即 Rapid Security Response

338
00:17:10,030 --> 00:17:12,933
它不会修改固件

339
00:17:12,933 --> 00:17:14,735
而且如有必要 用户也可以删除

340
00:17:14,735 --> 00:17:18,238
为此 我们推出了两个限制键

341
00:17:18,238 --> 00:17:21,175
用“allowRapidSecurityResponseInstallation”

342
00:17:21,175 --> 00:17:24,611
能够让这新型安全响应机制失效

343
00:17:24,611 --> 00:17:27,447
而用“allowRapidSecurityResponseRemoval”

344
00:17:27,447 --> 00:17:28,882
能阻止终端用户

345
00:17:28,882 --> 00:17:34,354
删除 Rapid Security Response

346
00:17:34,354 --> 00:17:39,393
接下来 我们谈谈注册方面的变更

347
00:17:39,393 --> 00:17:42,896
设备自动注册流程简化

348
00:17:42,896 --> 00:17:45,699
从设备拆箱 激活到

349
00:17:45,699 --> 00:17:50,237
在该组织的
MDM 解决方案下注册

350
00:17:50,237 --> 00:17:51,905
即将发布的版本里

351
00:17:51,905 --> 00:17:54,007
抹掉或恢复 Mac 后

352
00:17:54,007 --> 00:17:56,009
在“Apple 校园教务管理”

353
00:17:56,009 --> 00:17:57,644
或“Apple Business Manager ”

354
00:17:57,644 --> 00:18:00,147
中注册到您的组织的设备

355
00:18:00,147 --> 00:18:03,750
将需要连接网络来使用“设置助手”

356
00:18:03,750 --> 00:18:05,786
Mac 首次设置好

357
00:18:05,786 --> 00:18:07,621
并连接到网络后

358
00:18:07,621 --> 00:18:11,425
这台 Mac 就确认好
归组织所有了

359
00:18:11,425 --> 00:18:14,094
假如 MDM 后来发动

360
00:18:14,094 --> 00:18:16,196
“删除所有内容和设置”操作

361
00:18:16,196 --> 00:18:18,866
如果设备是通过
Configurator 恢复的

362
00:18:18,866 --> 00:18:20,534
那么不论是网络

363
00:18:20,534 --> 00:18:22,336
还是设备注册

364
00:18:22,336 --> 00:18:25,138
都无法在“设置助手”中绕过

365
00:18:25,138 --> 00:18:27,241
请继续关注
AppleSeed for IT

366
00:18:27,241 --> 00:18:31,645
获取发布时间说明

367
00:18:31,645 --> 00:18:34,381
描述文件命令行工具已成为重要工具

368
00:18:34,381 --> 00:18:37,251
多年来作为管理工具

369
00:18:37,251 --> 00:18:39,887
用于 MDM 部署 迁移和报告

370
00:18:39,887 --> 00:18:44,725
我们现对其在 macOS Ventura
中的使用进行了更新

371
00:18:44,725 --> 00:18:46,126
描述文件工具
在 macOS 上的使用

372
00:18:46,126 --> 00:18:49,429
将实施速率限制

373
00:18:49,429 --> 00:18:50,764
该工具将仅为

374
00:18:50,764 --> 00:18:52,933
组织注册类型开放

375
00:18:52,933 --> 00:18:57,004
拥有“show” “ renew”和
“validate”三个命令

376
00:18:57,004 --> 00:19:00,541
每个命令每天最多接收
来自服务器的 10 个请求

377
00:19:00,541 --> 00:19:03,510
如果超过该数量

378
00:19:03,510 --> 00:19:06,580
结果将以缓存信息返回

379
00:19:06,580 --> 00:19:09,349
如果您不想用掉 10 个
请求中的一次机会

380
00:19:09,349 --> 00:19:11,385
“show”命令有一个可选新标记

381
00:19:11,385 --> 00:19:14,054
来返回缓存的信息

382
00:19:14,054 --> 00:19:15,923
详情请参阅“profile manual page”

383
00:19:15,923 --> 00:19:20,060
了解更多

384
00:19:20,060 --> 00:19:23,263
每次 macOS 版本上新
我们都在为我们的用户

385
00:19:23,263 --> 00:19:26,600
不断提升保护能力

386
00:19:26,600 --> 00:19:32,506
下面是一些即将上线且
值得关注的安全变更

387
00:19:32,506 --> 00:19:35,275
在 iOS 10.3 中
我们推出了一项

388
00:19:35,275 --> 00:19:38,779
证书有效负载的
默认 TLS 信任策略变更

389
00:19:38,779 --> 00:19:41,915
以加强对用户的整体保护

390
00:19:41,915 --> 00:19:45,319
即将到来的上新环节 我们将把
此变更带到 macOS 中去

391
00:19:45,319 --> 00:19:48,522
这意味着手动安装的证书有效负载

392
00:19:48,522 --> 00:19:51,925
将不再受 TLS 意图的信任

393
00:19:51,925 --> 00:19:56,196
除非用户信任授权其
使用“钥匙串访问”

394
00:19:56,196 --> 00:19:59,666
请注意 如果证书是嵌入
在 MDM 描述文件中的

395
00:19:59,666 --> 00:20:03,270
那么我们仍将继续完全信任证书

396
00:20:03,270 --> 00:20:05,672
但在涉及交互式证书安装的情况下

397
00:20:05,672 --> 00:20:11,044
请务必更新相关工作流程

398
00:20:11,044 --> 00:20:14,781
接着是 macOS 上的
“允许配件连接”

399
00:20:14,781 --> 00:20:18,385
其旨在保护我们的客户
免受近距离访问攻击

400
00:20:18,385 --> 00:20:21,622
在配备了“Apple 设计的芯片”的
便携式 Mac 上受支持

401
00:20:21,622 --> 00:20:24,191
初始配置是即使在解锁状态下

402
00:20:24,191 --> 00:20:27,461
也要询问用户来允许

403
00:20:27,461 --> 00:20:30,898
新的“雷雳”或 USB 配件

404
00:20:30,898 --> 00:20:33,133
获批准的配件
可连接上着锁的 Mac

405
00:20:33,133 --> 00:20:34,801
长达三天时间

406
00:20:34,801 --> 00:20:37,504
如果您将未知配件
连接到锁着的 Mac

407
00:20:37,504 --> 00:20:40,040
系统将提示您解锁 Mac

408
00:20:40,040 --> 00:20:43,110
从 MDM 的角度来看
我们理解这可能

409
00:20:43,110 --> 00:20:45,646
影响企业和教育工作流程

410
00:20:45,646 --> 00:20:48,148
例如批量配置或测试

411
00:20:48,148 --> 00:20:51,084
为了解决这个问题
我们准备给 macOS

412
00:20:51,084 --> 00:20:54,821
使用在 iOS 和 iPadOS
上相同的限制条件

413
00:20:54,821 --> 00:20:58,225
现有的“allowUSBRestrictedMode”限制

414
00:20:58,225 --> 00:20:59,660
将允许有线配件

415
00:20:59,660 --> 00:21:02,963
没有任何限制一直保持连接

416
00:21:02,963 --> 00:21:04,464
该限制能忽略

417
00:21:04,464 --> 00:21:07,568
需用户同意的要求 提供授权

418
00:21:07,568 --> 00:21:08,836
还请知晓

419
00:21:08,836 --> 00:21:12,873
这操作本质上会降低
用户系统的安全性

420
00:21:12,873 --> 00:21:14,975
所以请仅在您有

421
00:21:14,975 --> 00:21:19,613
合法的企业需求的情况下
使用此限制

422
00:21:19,613 --> 00:21:22,282
至于其他限制和有效载荷修改

423
00:21:22,282 --> 00:21:24,518
比如新的“allowUniversalControl”

424
00:21:24,518 --> 00:21:27,221
和“UIConfigurationProfileInstallation”

425
00:21:27,221 --> 00:21:29,990
请务必查看文档

426
00:21:29,990 --> 00:21:32,960
感谢收听即将面世的
macOS Ventura

427
00:21:32,960 --> 00:21:34,962
一系列激动人心的变化

428
00:21:34,962 --> 00:21:38,432
现在我将把舞台交给
Graham 来谈谈 iOS

429
00:21:38,432 --> 00:21:39,399
Graham McLuhan：谢谢 Nadia

430
00:21:39,399 --> 00:21:41,134
我很高兴今天能借此机会告诉您

431
00:21:41,134 --> 00:21:43,403
在 iOS
和 iPadOS 16 中

432
00:21:43,403 --> 00:21:47,407
上新的大量出众设备管理功能

433
00:21:47,407 --> 00:21:49,676
我们知道管理设备上的网络流量

434
00:21:49,676 --> 00:21:53,146
是提高数据安全性的重要方式

435
00:21:53,146 --> 00:21:54,414
您管理 Apple 设备上的

436
00:21:54,414 --> 00:21:57,050
流量主要有三种方式

437
00:21:57,050 --> 00:22:01,188
VPN 以及 DNS Proxy 和
Web Content Filter

438
00:22:01,188 --> 00:22:04,458
多年来 我们一直
提供 Per-app VPN

439
00:22:04,458 --> 00:22:06,360
实际上 对于用户注册的设备来说

440
00:22:06,360 --> 00:22:10,597
这款 VPN
是 MDM 唯一可用的类型

441
00:22:10,597 --> 00:22:12,699
在 iOS
和 iPadOS 16 中

442
00:22:12,699 --> 00:22:14,635
我们准备扩宽“Per-app”
线的产品类型

443
00:22:14,635 --> 00:22:17,871
将把 DNS Proxy 和 Web
Content Filter 也包括进去

444
00:22:17,871 --> 00:22:20,674
这类功能可用于所有注册类型

445
00:22:20,674 --> 00:22:22,776
但我们认为用在用户注册

446
00:22:22,776 --> 00:22:23,911
它们会特别好用

447
00:22:23,911 --> 00:22:25,712
因为这是组织第一次

448
00:22:25,712 --> 00:22:29,583
能够通过这种方式保护 BYOD
设备 App 流量

449
00:22:29,583 --> 00:22:32,553
配置这些新功能需要两步

450
00:22:32,553 --> 00:22:35,355
而且跟配置
Per-App VPN 差不多

451
00:22:35,355 --> 00:22:38,992
我们快速了解一下操作步骤

452
00:22:38,992 --> 00:22:41,595
首先 您需要添加一个新的键值对

453
00:22:41,595 --> 00:22:43,130
到每个有效负载

454
00:22:43,130 --> 00:22:45,098
在 Web Content Filter
有效负载中

455
00:22:45,098 --> 00:22:47,701
用的键是“ContentFilterUUID”

456
00:22:47,701 --> 00:22:52,039
对于 DNS Proxy 来说
用的键是“DNSProxyUUID”

457
00:22:52,039 --> 00:22:55,008
使用这些键需要注意一些事项

458
00:22:55,008 --> 00:22:59,746
首先 这些键的值可以是任意字符串

459
00:22:59,746 --> 00:23:02,482
其次 当这个键被添加到 Payload 时

460
00:23:02,482 --> 00:23:05,452
它只能通过 MDM 安装

461
00:23:05,452 --> 00:23:09,356
然后 我们需要配置
App 来使用这些新功能

462
00:23:09,356 --> 00:23:11,592
使用“InstallApplication”命令

463
00:23:11,592 --> 00:23:13,493
或“Settings”命令

464
00:23:13,493 --> 00:23:16,530
把相同的 UUID
添加到 App 的属性中

465
00:23:16,530 --> 00:23:18,699
属性将运用“Per-app”的功能

466
00:23:18,699 --> 00:23:21,301
在这个示例中 我们把
两个键都包含进去了

467
00:23:21,301 --> 00:23:25,072
但您可以只包含其中任意一个键

468
00:23:25,072 --> 00:23:27,774
另外 我还想指出一些细节的地方

469
00:23:27,774 --> 00:23:31,845
首先 App 开发者
无需新做任何事物

470
00:23:31,845 --> 00:23:34,781
一切现有的 DNS Proxy 和
Web Content Filter App

471
00:23:34,781 --> 00:23:36,650
都能使用

472
00:23:36,650 --> 00:23:39,586
其次 您可以拥有
多个 DNS Proxy

473
00:23:39,586 --> 00:23:43,490
但您不能混用用于系统的
和用于一个 App 的代理

474
00:23:43,490 --> 00:23:46,260
最后 对于
Web Content Filter 类型来说

475
00:23:46,260 --> 00:23:48,228
Per-app 过滤器
最多可有七个

476
00:23:48,228 --> 00:23:51,965
用于系统的过滤器能有一个

477
00:23:51,965 --> 00:23:54,735
接下来 我想谈谈管理 eSIM

478
00:23:54,735 --> 00:23:56,670
eSIM 对于世界各地的运营商

479
00:23:56,670 --> 00:23:59,706
已成为新标准 在过去的几年里

480
00:23:59,706 --> 00:24:01,742
我们添加了些许 MDM 功能

481
00:24:01,742 --> 00:24:04,878
让管理 eSIM
变得前所未有的轻松

482
00:24:04,878 --> 00:24:07,181
我们想花点时间谈谈
MDM 供应商如何

483
00:24:07,181 --> 00:24:09,082
把这些功能结合起来

484
00:24:09,082 --> 00:24:11,919
以提供更好的体验

485
00:24:11,919 --> 00:24:14,421
当我们与
使用 eSIM 的组织交流时

486
00:24:14,421 --> 00:24:16,256
他们正在做的主要任务有

487
00:24:16,256 --> 00:24:18,759
配备新设备

488
00:24:18,759 --> 00:24:20,727
在运营商之间迁移设备

489
00:24:20,727 --> 00:24:22,596
还有帮助有需要的用户

490
00:24:22,596 --> 00:24:27,067
要解决的有多个运营商的问题
或传送和漫游的相关问题

491
00:24:27,067 --> 00:24:28,335
为了完成这些任务

492
00:24:28,335 --> 00:24:30,771
他们要从已注册的设备中查询数据

493
00:24:30,771 --> 00:24:33,140
并将收集好的数据提供给运营商

494
00:24:33,140 --> 00:24:34,808
然后 他们得能

495
00:24:34,808 --> 00:24:38,178
在设备上安装 eSIM

496
00:24:38,178 --> 00:24:40,113
让我们先从着手探讨

497
00:24:40,113 --> 00:24:42,449
设备查询和运营商数据要求

498
00:24:42,449 --> 00:24:44,985
“DeviceInformation”
查询是收集设备数据

499
00:24:44,985 --> 00:24:46,954
最简单的方法

500
00:24:46,954 --> 00:24:49,656
在 iOS 12 中
“ServiceSubscriptions”

501
00:24:49,656 --> 00:24:52,726
是一站式收集
iPhone 和 iPad 上

502
00:24:52,726 --> 00:24:57,397
所有关于蜂窝网络数据的键

503
00:24:57,397 --> 00:25:01,068
查看这些响应时 说几个
您可能会觉得有用的点

504
00:25:01,068 --> 00:25:04,338
在“ServiceSubscriptions”
中返回两个项的设备

505
00:25:04,338 --> 00:25:07,541
支持两个活跃的蜂窝网络计划

506
00:25:07,541 --> 00:25:11,678
如果响应包含 EID
那么设备用的是 eSIM

507
00:25:11,678 --> 00:25:15,916
较新的设备 例如 iPhone 13
和 iPhone SE (第 3 代)

508
00:25:15,916 --> 00:25:19,119
支持双活跃运营商
eSIM 描述文件

509
00:25:19,119 --> 00:25:21,121
因在“ServiceSubscriptions”
响应中

510
00:25:21,121 --> 00:25:24,024
可能有不止一个 eSIM 返回

511
00:25:24,024 --> 00:25:28,128
还请注意 每个设备的 EID
都是独一无二的

512
00:25:28,128 --> 00:25:30,898
从 iOS
和 iPadOS 16 开始

513
00:25:30,898 --> 00:25:33,367
返回数据的
“otherDeviceInformation”查询

514
00:25:33,367 --> 00:25:36,036
不再会出现在
“ServiceSubscriptions”响应

515
00:25:36,036 --> 00:25:38,472
一同响应的做法现已弃用

516
00:25:38,472 --> 00:25:41,708
且在以后的操作系统都不会返回

517
00:25:41,708 --> 00:25:43,877
既然我们知道了如何
从设备中获取数据

518
00:25:43,877 --> 00:25:47,014
现在我们来看我们需要给运营商什么

519
00:25:47,014 --> 00:25:49,483
一般来说 运营商需要四类数据

520
00:25:49,483 --> 00:25:51,919
为设备设置 eSIM

521
00:25:51,919 --> 00:25:56,790
IMEI 和 EID
序列号还有电话号码

522
00:25:56,790 --> 00:25:59,159
让您的管理员能够生成

523
00:25:59,159 --> 00:26:01,895
包含这些数据的报告

524
00:26:01,895 --> 00:26:04,198
会让其更容易启动并运行 eSIM

525
00:26:04,198 --> 00:26:06,400
我们来总结回顾一下

526
00:26:06,400 --> 00:26:08,635
如何配备 eSIM

527
00:26:08,635 --> 00:26:12,272
首先 MDM 服务器使用
“ServiceSubscriptions”查询

528
00:26:12,272 --> 00:26:15,542
在设备中收集所需的数据

529
00:26:15,542 --> 00:26:19,313
然后 管理员将数据发送给运营商

530
00:26:19,313 --> 00:26:22,282
最后 运营商在其
eSIM 服务器上

531
00:26:22,282 --> 00:26:24,117
为设备配备 eSIM

532
00:26:24,117 --> 00:26:25,619
我们现在可以把注意力

533
00:26:25,619 --> 00:26:28,755
放到设备安装 eSIM 上

534
00:26:28,755 --> 00:26:31,859
运营商将向客户提供服务器 URL

535
00:26:31,859 --> 00:26:33,360
设备可以通过
“RefreshCellularPlans”命令

536
00:26:33,360 --> 00:26:37,331
在 URL 中获取 eSIM

537
00:26:37,331 --> 00:26:38,966
MDM 服务器将发送

538
00:26:38,966 --> 00:26:41,602
“RefreshCellularPlans”命令至设备

539
00:26:41,602 --> 00:26:44,505
这会向运营商的
eSIM 服务器发起请求

540
00:26:44,505 --> 00:26:46,807
并检查有没有可用的 eSIM

541
00:26:46,807 --> 00:26:49,543
如果有 MDM 会自动
下载并安装 eSIM

542
00:26:49,543 --> 00:26:52,880
无需任何用户交互

543
00:26:52,880 --> 00:26:56,049
然后 MDM 服务器可以使用
“ServiceSubscriptions”查询

544
00:26:56,049 --> 00:26:59,152
当查询返回的是非空号时

545
00:26:59,152 --> 00:27:03,123
就能确认 eSIM 已成功安装

546
00:27:03,123 --> 00:27:04,992
现在我们来谈谈几个

547
00:27:04,992 --> 00:27:07,227
您应该记住的关键点

548
00:27:07,227 --> 00:27:09,963
eSIM 安装是一次性操作

549
00:27:09,963 --> 00:27:13,333
以及未来在同一设备上
安装 eSIM 的请求

550
00:27:13,333 --> 00:27:16,670
会要求运营商配备新的 eSIM

551
00:27:16,670 --> 00:27:18,205
为防止用户意外

552
00:27:18,205 --> 00:27:19,673
移除自己的 eSIM

553
00:27:19,673 --> 00:27:22,910
使用“allowESIMModification”限制

554
00:27:22,910 --> 00:27:25,412
还要注意“RefreshCellularPlans”命令

555
00:27:25,412 --> 00:27:28,882
在安装限制的情况下
可以安装 eSIM

556
00:27:28,882 --> 00:27:31,952
最后 MDM 清除设备时也可以

557
00:27:31,952 --> 00:27:33,554
把 eSIM 移除掉

558
00:27:33,554 --> 00:27:37,591
为避免这种情况 发送
“EraseDevice”命令时请务必将

559
00:27:37,591 --> 00:27:39,793
“PreserveDataPlan”键
设置为“True”

560
00:27:39,793 --> 00:27:42,496
我们希望这些信息就如何管理

561
00:27:42,496 --> 00:27:45,666
和部署 eSIM
提供了更清晰的理解

562
00:27:45,666 --> 00:27:49,570
接下来 让我们来谈谈
共享 iPad 的一些更新

563
00:27:49,570 --> 00:27:53,106
共享 iPad 是教育
和商业客户的好伙伴

564
00:27:53,106 --> 00:27:55,576
能一对多环境中使用 iPad

565
00:27:55,576 --> 00:27:58,846
同时还能为用户提供个性化体验

566
00:27:58,846 --> 00:28:00,280
我们今年做了些许变更

567
00:28:00,280 --> 00:28:04,051
能把共享 iPad 做得更好

568
00:28:04,051 --> 00:28:07,654
首先 我们把
“ManagedAppleIDDefaultDomains”添加

569
00:28:07,654 --> 00:28:10,557
到了“SharedDeviceConfiguration”设置命令

570
00:28:10,557 --> 00:28:12,993
有了这命令 您将能够节省用户

571
00:28:12,993 --> 00:28:18,065
使用快速输入键盘输入
管理式 Apple ID 的时间

572
00:28:18,065 --> 00:28:20,701
只要用户开始输入
管理式 Apple ID

573
00:28:20,701 --> 00:28:22,469
显示您域名的输入建议

574
00:28:22,469 --> 00:28:25,105
将自动出现供用户点击使用

575
00:28:25,105 --> 00:28:27,975
这个设置命令将接受任何大小的列表

576
00:28:27,975 --> 00:28:32,513
但只会向用户显示其中三个用户

577
00:28:32,513 --> 00:28:33,747
我们还对

578
00:28:33,747 --> 00:28:36,350
远程认证的要求进行了变更

579
00:28:36,350 --> 00:28:39,386
目前共享 iPad
大概每 7 天要求

580
00:28:39,386 --> 00:28:41,722
进行一次远程身份验证

581
00:28:41,722 --> 00:28:46,059
在 iPadOS 16 中 共享 iPad
将对于设备上的现有用户

582
00:28:46,059 --> 00:28:48,996
仅需要进行本地验证

583
00:28:48,996 --> 00:28:51,532
如果管理员想要强制
执行远程身份验证

584
00:28:51,532 --> 00:28:52,533
管理员可以

585
00:28:52,533 --> 00:28:54,935
在“SharedDeviceConfiguration”设置命令中

586
00:28:54,935 --> 00:28:57,771
设置“OnlineAuthenticationGracePeriod”键

587
00:28:57,771 --> 00:29:00,174
该键将是一个整数值 表示

588
00:29:00,174 --> 00:29:03,210
两次远程身份验证相隔的天数

589
00:29:03,210 --> 00:29:06,280
零值则需要所有登录

590
00:29:06,280 --> 00:29:08,315
都进行远程身份验证

591
00:29:08,315 --> 00:29:11,118
“ManagedAppleIDDefaultDomains”值

592
00:29:11,118 --> 00:29:13,820
和“OnlineAuthenticationGracePeriod”值

593
00:29:13,820 --> 00:29:18,025
可以通过
“DeviceInformation”查询检索到

594
00:29:18,025 --> 00:29:20,260
最后 我想围绕共享 iPad 配额

595
00:29:20,260 --> 00:29:22,829
如何明确提供一些帮助

596
00:29:22,829 --> 00:29:24,331
“SharedDeviceConfiguration”命令

597
00:29:24,331 --> 00:29:27,768
是在共享 iPad 上
管理配额的最佳方式

598
00:29:27,768 --> 00:29:31,138
您可以使用两个相关键来设置配额

599
00:29:31,138 --> 00:29:34,107
“QuotaSize”和
“ResidentUsers”

600
00:29:34,107 --> 00:29:36,543
无论您选择设置哪个键

601
00:29:36,543 --> 00:29:40,180
最终操作系统都会计算存储配额

602
00:29:40,180 --> 00:29:43,217
我们来看一个例子

603
00:29:43,217 --> 00:29:48,488
这台 iPad 有 35 GB 的可用
空间能用于存储用户数据

604
00:29:48,488 --> 00:29:51,291
如果我发送
“SharedDeviceConfigurationSettings”命令

605
00:29:51,291 --> 00:29:54,261
要求设备将
“ResidentUsers”设置为三个

606
00:29:54,261 --> 00:29:59,166
它将计算出
每个用户的配额为 11.67 GB

607
00:29:59,166 --> 00:30:00,868
或者 如果我要求设备

608
00:30:00,868 --> 00:30:03,070
配额大小为 10 GB

609
00:30:03,070 --> 00:30:06,840
每个用户将有 10 GB 的配额

610
00:30:06,840 --> 00:30:09,576
假设设备上现有三个用户

611
00:30:09,576 --> 00:30:11,712
第四个用户想要登录

612
00:30:11,712 --> 00:30:14,748
现有用户中的某一用户
数据将从设备中删除

613
00:30:14,748 --> 00:30:17,351
来为新用户创造足够的空间

614
00:30:17,351 --> 00:30:19,686
在“QuotaSize”的示例中

615
00:30:19,686 --> 00:30:21,822
即使有 5 GB 的空间仍然可用

616
00:30:21,822 --> 00:30:23,090
但这不满足

617
00:30:23,090 --> 00:30:25,158
第四个用户要登录的要求

618
00:30:25,158 --> 00:30:28,595
因此仍然需要删除一位用户

619
00:30:28,595 --> 00:30:30,597
我们再看一个场景 是关于

620
00:30:30,597 --> 00:30:33,433
在不改变配额的情况下

621
00:30:33,433 --> 00:30:36,336
如何在设备上调整用户数量

622
00:30:36,336 --> 00:30:37,638
还是原来的背景设定

623
00:30:37,638 --> 00:30:40,340
我们有 35 GB 的可用空间

624
00:30:40,340 --> 00:30:42,109
但其实是 iPad 上
总空间的 25 GB

625
00:30:42,109 --> 00:30:46,180
都被 App 和书籍文件占用了

626
00:30:46,180 --> 00:30:47,748
做了一点研究后

627
00:30:47,748 --> 00:30:49,716
我找到这台设备上有一些 App

628
00:30:49,716 --> 00:30:52,386
没有人会继续用了

629
00:30:52,386 --> 00:30:54,288
然后我帮我的 App 库瘦身成功

630
00:30:54,288 --> 00:30:57,457
我的设备有额外的
10 GB 可用空间

631
00:30:57,457 --> 00:31:00,093
意味着有第四个用户要登录

632
00:31:00,093 --> 00:31:03,797
也不需要删除另一个用户了

633
00:31:03,797 --> 00:31:07,167
另外 请记住
自 iOS 13.4 起

634
00:31:07,167 --> 00:31:09,703
只要设备上没有缓存的用户

635
00:31:09,703 --> 00:31:13,173
配额大小可以随时调整

636
00:31:13,173 --> 00:31:15,108
记住这些要点应该可以让您享受到

637
00:31:15,108 --> 00:31:19,780
共享 iPad 部署的最佳体验

638
00:31:19,780 --> 00:31:24,151
让我们用 MDM 协议以及
您应该留意的行为变化

639
00:31:24,151 --> 00:31:28,021
来结束我们的 iOS 和
iPadOS 更新部分

640
00:31:28,021 --> 00:31:31,391
Apple 设备标配内置辅助功能

641
00:31:31,391 --> 00:31:33,327
使人们体验到设备

642
00:31:33,327 --> 00:31:35,195
应该提供的各种花样

643
00:31:35,195 --> 00:31:37,598
每个用户本来都需要

644
00:31:37,598 --> 00:31:39,833
自己启用辅助功能设置

645
00:31:39,833 --> 00:31:44,104
但在 iOS 和 iPadOS 16 中
我们允许 MDM

646
00:31:44,104 --> 00:31:49,643
管理许多热度高的辅助功能设置

647
00:31:49,643 --> 00:31:53,514
管理的功能中包括
文字大小、旁白、缩放

648
00:31:53,514 --> 00:31:56,183
触控调节、粗体文本

649
00:31:56,183 --> 00:31:58,685
减弱动态效果、增强对比度

650
00:31:58,685 --> 00:32:00,988
和降低透明度

651
00:32:00,988 --> 00:32:03,023
有了这些选项

652
00:32:03,023 --> 00:32:05,359
我们相信管理员可以
让所有用户体会到

653
00:32:05,359 --> 00:32:10,197
在学校、餐厅和医院都
能更方便地访问设备

654
00:32:10,197 --> 00:32:13,333
请注意 这些设置在
完成后不会被锁定

655
00:32:13,333 --> 00:32:14,735
用户可以自由修改设置

656
00:32:14,735 --> 00:32:17,571
来匹配自己各自的喜好

657
00:32:17,571 --> 00:32:19,673
MDM 服务器也可以

658
00:32:19,673 --> 00:32:23,844
使用“DeviceInformation”
查询这些设置

659
00:32:23,844 --> 00:32:27,481
还有 从 iOS
和 iPadOS 16 开始

660
00:32:27,481 --> 00:32:29,216
您现在可以

661
00:32:29,216 --> 00:32:31,185
在自动设备注册期间

662
00:32:31,185 --> 00:32:33,587
在“AwaitDeviceConfigured”
状态下安装 App

663
00:32:33,587 --> 00:32:35,556
有几件事值得留意

664
00:32:35,556 --> 00:32:37,357
在这个阶段用户很有可能

665
00:32:37,357 --> 00:32:39,893
无法登录到 App Store

666
00:32:39,893 --> 00:32:43,330
因此我们建议使用基于
设备的 App 许可证

667
00:32:43,330 --> 00:32:46,733
设置中的未受监督设备
仍将返回“NotNow”

668
00:32:46,733 --> 00:32:48,435
直到用户见到主屏幕

669
00:32:48,435 --> 00:32:49,970
有了这个功能 您现在能够

670
00:32:49,970 --> 00:32:52,806
在退出设置助手之前

671
00:32:52,806 --> 00:32:56,610
就把设备需要用户
入门的一切准备好了

672
00:32:56,610 --> 00:32:59,446
随着我们不断提高设备的安全性

673
00:32:59,446 --> 00:33:01,348
在第一次解锁之前

674
00:33:01,348 --> 00:33:03,050
某些数据类型变得不可访问

675
00:33:03,050 --> 00:33:05,085
因此“CertificateList”查询

676
00:33:05,085 --> 00:33:08,755
将在第一次解锁之前
都会返回“NotNow”

677
00:33:08,755 --> 00:33:10,891
一旦用户解锁设备

678
00:33:10,891 --> 00:33:14,795
查询将正常响应 直至设备重新启动

679
00:33:14,795 --> 00:33:17,197
请 MDM 开发者确保您的服务器

680
00:33:17,197 --> 00:33:22,236
能够处理此类查询
的“NotNow”响应

681
00:33:22,236 --> 00:33:25,539
最后 Apple TV
也有激动人心的更新

682
00:33:25,539 --> 00:33:29,176
从 tvOS 16 开始
在您通过设置或 MDM

683
00:33:29,176 --> 00:33:31,712
抹除 Apple TV 时

684
00:33:31,712 --> 00:33:34,248
遥控器现将保持配对状态

685
00:33:34,248 --> 00:33:37,684
与 Auto Advance
相结合

686
00:33:37,684 --> 00:33:41,855
让您的 Apple TV
常在常新 蓄势待发

687
00:33:41,855 --> 00:33:44,157
除了我们今天涵盖的内容之外

688
00:33:44,157 --> 00:33:46,059
您还可以在 developer.apple.com/cn
上的文档里

689
00:33:46,059 --> 00:33:51,865
查看更多改变

690
00:33:51,865 --> 00:33:55,202
说到文档 在之前的 WWDC 上

691
00:33:55,202 --> 00:33:58,438
我们把 MDM 文档
带到了它的新家

692
00:33:58,438 --> 00:34:00,040
这此变动提供了更准确
与时俱进的文档

693
00:34:00,040 --> 00:34:01,975
但也能让您在

694
00:34:01,975 --> 00:34:04,211
特定的操作系统版本中

695
00:34:04,211 --> 00:34:06,446
突出显示变化

696
00:34:06,446 --> 00:34:09,550
这份文件的接受度令人惊叹

697
00:34:09,550 --> 00:34:11,885
今天 我很高兴地告诉您

698
00:34:11,885 --> 00:34:14,755
我们准备公开支持该文档的源代码

699
00:34:14,755 --> 00:34:18,392
在 MIT 开源许可证下公开可用

700
00:34:18,392 --> 00:34:20,227
我们放在 Apple 的
GitHub 页面上

701
00:34:20,227 --> 00:34:22,729
新的设备管理项目中

702
00:34:22,729 --> 00:34:25,632
让我们来看看您打开后会发现什么

703
00:34:25,632 --> 00:34:27,067
两个文件夹

704
00:34:27,067 --> 00:34:30,204
一个包含所有的 MDM 文档

705
00:34:30,204 --> 00:34:31,572
另一个

706
00:34:31,572 --> 00:34:33,907
包含声明式设备管理新文档

707
00:34:33,907 --> 00:34:38,879
以及 README 文件
和我们的许可信息

708
00:34:38,879 --> 00:34:41,515
在 MDM 文件夹中 您会找到

709
00:34:41,515 --> 00:34:44,384
签入 命令和描述文件的文件夹

710
00:34:44,384 --> 00:34:45,853
而声明式管理文件夹

711
00:34:45,853 --> 00:34:49,389
有声明 协议和状态文件夹

712
00:34:49,389 --> 00:34:50,657
如果您仔细查看这些文件夹

713
00:34:50,657 --> 00:34:53,026
您会发现
每个命令的 YAML 文件

714
00:34:53,026 --> 00:34:55,295
描述文件或声明

715
00:34:55,295 --> 00:34:56,830
我想强调一些项目

716
00:34:56,830 --> 00:35:00,033
来让您熟悉这些文件

717
00:35:00,033 --> 00:35:02,102
首先是 Payload 键

718
00:35:02,102 --> 00:35:05,172
该键显示 MDM 命令的请求类型

719
00:35:05,172 --> 00:35:07,608
在这个例子中
就是“ProfileList”

720
00:35:07,608 --> 00:35:09,510
它返回一个安装在设备上

721
00:35:09,510 --> 00:35:12,279
的所有描述文件的列表

722
00:35:12,279 --> 00:35:14,081
接下来
是“supportedOS”键

723
00:35:14,081 --> 00:35:16,183
这个键为您提供平台的信息

724
00:35:16,183 --> 00:35:18,585
比如操作系统 版本支持

725
00:35:18,585 --> 00:35:21,154
需要监督与否

726
00:35:21,154 --> 00:35:23,457
或者该键是否适用于用户注册

727
00:35:23,457 --> 00:35:30,130
我们能在这里发现 “ProfileList ”键
是在 iOS 4 中推出的

728
00:35:30,130 --> 00:35:31,732
“payloadkeys”
为您提供

729
00:35:31,732 --> 00:35:34,434
关于查询提供的附加功能的相关信息

730
00:35:34,434 --> 00:35:37,905
每个子键可能包含一个
额外的“supportedOS”键

731
00:35:37,905 --> 00:35:41,041
额外键将覆盖超过 Payload 的值

732
00:35:41,041 --> 00:35:44,178
“ProfileList”查询是
在 iOS 4 中引入的

733
00:35:44,178 --> 00:35:48,215
但“ManagedOnly”
功能直到 iOS 13 才有

734
00:35:48,215 --> 00:35:51,318
“supportedOS”
的其余信息保持不变

735
00:35:51,318 --> 00:35:53,153
表示不需要监督

736
00:35:53,153 --> 00:35:56,823
并且查询适用于用户注册

737
00:35:56,823 --> 00:35:58,625
对于
“ProfileList”查询

738
00:35:58,625 --> 00:36:01,228
它从 MDM 服务器返回响应

739
00:36:01,228 --> 00:36:04,431
响应键详细说明了此信息

740
00:36:04,431 --> 00:36:07,301
在我们的例子中 我们
可以得知一个字典数组

741
00:36:07,301 --> 00:36:10,571
对应描述安装好的一个描述文件

742
00:36:10,571 --> 00:36:13,974
在该字典中 您将看到键值对

743
00:36:13,974 --> 00:36:16,343
包括“PayloadUUID”

744
00:36:16,343 --> 00:36:18,378
和“PayloadIdentifier”

745
00:36:18,378 --> 00:36:19,947
这只是一个简单的例子

746
00:36:19,947 --> 00:36:21,915
您会在 README 里发现

747
00:36:21,915 --> 00:36:24,718
关于存储库的架构

748
00:36:24,718 --> 00:36:26,053
和结构的全面的细节

749
00:36:26,053 --> 00:36:29,857
我们接着聊一些细节

750
00:36:29,857 --> 00:36:30,991
您会发现

751
00:36:30,991 --> 00:36:35,362
数据公布到 iOS 15 和
macOS Monterey 的初始版本

752
00:36:35,362 --> 00:36:38,498
从那起 我们为每个版本发布新分支

753
00:36:38,498 --> 00:36:41,869
并根据需要播种 这意味着

754
00:36:41,869 --> 00:36:43,670
您现在就能查看

755
00:36:43,670 --> 00:36:46,273
iOS 16 和
macOS Ventura 文档

756
00:36:46,273 --> 00:36:48,709
我们认为有很多对于这些

757
00:36:48,709 --> 00:36:50,811
新数据的有趣用例

758
00:36:50,811 --> 00:36:54,548
我们迫不及待地想看
您想出了什么新工具或集成

759
00:36:54,548 --> 00:36:56,517
您开始处理这些数据时

760
00:36:56,517 --> 00:37:00,687
请使用反馈助理让我们知道进展情况

761
00:37:00,687 --> 00:37:02,890
我们今天涵盖了大量的信息

762
00:37:02,890 --> 00:37:05,325
所以我们来花点时间回顾一下

763
00:37:05,325 --> 00:37:07,294
iPhone 版本的
Apple Configurator

764
00:37:07,294 --> 00:37:10,264
现可以将 iPhone 和
iPad 添加到您的组织中去

765
00:37:10,264 --> 00:37:14,034
让您更轻松地管理和部署设备

766
00:37:14,034 --> 00:37:16,703
然后来到身份验证
Google Workspace 集成

767
00:37:16,703 --> 00:37:19,206
Enrollment SSO
和 Platform SSO

768
00:37:19,206 --> 00:37:22,376
带来更具连贯的身份验证体验

769
00:37:22,376 --> 00:37:25,512
Nadia 接着向我们介绍了
macOS Ventura 如何

770
00:37:25,512 --> 00:37:27,014
为您提供更多信息以帮助您

771
00:37:27,014 --> 00:37:29,883
管理您的队伍的软件更新

772
00:37:29,883 --> 00:37:32,152
在抹掉或恢复 Mac 之后

773
00:37:32,152 --> 00:37:34,621
设置助手期间需要网络连接

774
00:37:34,621 --> 00:37:37,357
自动设备注册更为智能

775
00:37:37,357 --> 00:37:39,693
然后我们谈及

776
00:37:39,693 --> 00:37:42,362
影响部署的重要的安全变更

777
00:37:42,362 --> 00:37:44,631
在 iOS
和 iPadOS 16 中

778
00:37:44,631 --> 00:37:47,968
您现在可以基于每个 App

779
00:37:47,968 --> 00:37:49,703
管理 DNS Proxy 和
Web Content Filter

780
00:37:49,703 --> 00:37:54,842
我们探索了用在 iPhone 和
iPad 上管理 eSIM 的工具

781
00:37:54,842 --> 00:37:56,877
我们讨论了共享 iPad
的优化升级

782
00:37:56,877 --> 00:37:59,780
最后 MDM 协议的更改

783
00:37:59,780 --> 00:38:03,350
包括在设置助手期间
安装 App 的能力

784
00:38:03,350 --> 00:38:06,753
最后的最后 我们希望
我们机器可读的新文档

785
00:38:06,753 --> 00:38:10,824
能使您构建激动
人心的新工具和新集成

786
00:38:10,824 --> 00:38:12,025
感谢您参加我们的讲座

787
00:38:12,025 --> 00:38:15,529
希望您能过个难忘的 WWDC

788
00:38:15,529 --> 00:38:19,800
♪

